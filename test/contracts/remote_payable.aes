contract Remote =
  payable entrypoint foo : (int) => bool
  entrypoint bar : (int) => bool

contract Test =
  stateful entrypoint r_foo(r : Remote, x : int) =
    r.foo(value = x, x)

  stateful entrypoint r_bar(r : Remote, x : int) =
    r.bar(value = x, x)

  stateful entrypoint r_spend(r : Remote, x : int) =
    Chain.spend(r.address, x)
    true
