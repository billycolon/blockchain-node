contract Maps =

  function lookup(m : map(string, string), k) =
    m[k]

  function map1() =
    Map.from_list([("foo", "1004"), ("bar", "1005")])

  function map2() =
    { ["foo"] = "1004",
      ["bar"] = "1005" }

  function test() =
    (lookup(update(map1(), "bar", "1006"), "bar"), lookup(map2(), "foo"))

  function empty() : map(string, string) = {}

  function singleton(k, v) : map(string, string) = {[k] = v}

  function update(m, k, v) : map(string, string) =
    m{ [k] = v }
